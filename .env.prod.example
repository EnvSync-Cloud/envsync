# =============================================================================
# EnvSync Production Environment Variables
# Copy to .env and fill in values before running docker-compose.prod.yaml
# =============================================================================

# --- App (API) ---
NODE_ENV=production
PORT=4000

# --- S3 / RustFS ---
S3_BUCKET=envsync-bucket
S3_REGION=us-east-1
S3_ACCESS_KEY=CHANGE_ME_RUSTFS_ACCESS_KEY
S3_SECRET_KEY=CHANGE_ME_RUSTFS_SECRET_KEY
S3_BUCKET_URL=http://rustfs:9001
S3_ENDPOINT=http://rustfs:9001
RUSTFS_ACCESS_KEY=CHANGE_ME_RUSTFS_ACCESS_KEY
RUSTFS_SECRET_KEY=CHANGE_ME_RUSTFS_SECRET_KEY

# --- Redis ---
CACHE_ENV=production
REDIS_URL=redis://redis:6379

# --- SMTP (use a real SMTP provider in production) ---
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=CHANGE_ME
SMTP_PASS=CHANGE_ME
SMTP_FROM=noreply@yourdomain.com

# --- Keycloak (OIDC / IAM) ---
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=envsync
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=CHANGE_ME_ADMIN_PASSWORD
KEYCLOAK_HOSTNAME=auth.yourdomain.com
KEYCLOAK_DB_PASSWORD=CHANGE_ME_KEYCLOAK_DB_PASSWORD
KEYCLOAK_PORT=8080
# Init retrieves client secrets from Keycloak; fill after running init
KEYCLOAK_WEB_CLIENT_ID=envsync-web
KEYCLOAK_WEB_CLIENT_SECRET=
KEYCLOAK_CLI_CLIENT_ID=envsync-cli
KEYCLOAK_API_CLIENT_ID=envsync-api
KEYCLOAK_API_CLIENT_SECRET=
KEYCLOAK_WEB_REDIRECT_URI=https://api.yourdomain.com/api/access/web/callback
KEYCLOAK_WEB_CALLBACK_URL=https://app.yourdomain.com/auth/callback
KEYCLOAK_API_REDIRECT_URI=https://api.yourdomain.com/api/access/api/callback

# --- URLs (public-facing) ---
LANDING_PAGE_URL=https://yourdomain.com
DASHBOARD_URL=https://app.yourdomain.com

# --- SpacetimeDB (all data + encryption + authorization) ---
STDB_URL=http://spacetimedb:1234
STDB_DB_NAME=envsync-kms
STDB_AUTH_TOKEN=
STDB_ROOT_KEY=CHANGE_ME_ROOT_KEY

# --- OpenTelemetry (observability) ---
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_SERVICE_NAME=envsync-api
OTEL_SDK_DISABLED=false
